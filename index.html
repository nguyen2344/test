<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Nguyên đẹp trai + Anh yêu em</title>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      overflow: hidden;
      background: #000;
      font-family: 'Arial', sans-serif;
      perspective: 1000px;
    }

    #scene {
      width: 100%;
      height: 100%;
      transform-style: preserve-3d;
      position: relative;
      transition: transform 0.1s linear;
    }

    .falling-text, .heart {
      position: absolute;
      user-select: none;
      pointer-events: none;
      opacity: 0.9;
      animation-timing-function: linear;
      animation-fill-mode: forwards;
    }

    .falling-text {
      font-size: 2rem;
      color: #ff4081;
      font-weight: bold;
      animation-name: fallText;
    }

    .heart {
      font-size: 24px;
      color: #e91e63;
      animation-name: fallHeart;
    }

    @keyframes fallText {
      to {
        transform: translateY(100vh) translateZ(100px);
        opacity: 0;
      }
    }

    @keyframes fallHeart {
      to {
        transform: translateY(100vh) translateZ(100px);
        opacity: 0;
      }
    }
  </style>
</head>
<body>

<div id="scene"></div>

<script>
  const container = document.getElementById('scene');
  const maxTexts = 300;
  const maxHearts = 150;
  const textList = ["Anh yêu em", "Nguyên đẹp trai"];

  function random(min, max) {
    return Math.random() * (max - min) + min;
  }

  function createFallingText() {
    const text = document.createElement('div');
    text.classList.add('falling-text');
    text.textContent = textList[Math.floor(Math.random() * textList.length)];
    text.style.left = random(0, window.innerWidth - 100) + 'px';
    text.style.top = '-50px';
    text.style.fontSize = random(16, 36) + 'px';
    text.style.animationDuration = random(3, 6) + 's';
    container.appendChild(text);
    text.addEventListener('animationend', () => container.removeChild(text));
  }

  function createHeart() {
    const heart = document.createElement('div');
    heart.classList.add('heart');
    heart.textContent = "❤️";
    heart.style.left = random(0, window.innerWidth - 30) + 'px';
    heart.style.top = '-30px';
    heart.style.fontSize = random(16, 40) + 'px';
    heart.style.animationDuration = random(2, 5) + 's';
    container.appendChild(heart);
    heart.addEventListener('animationend', () => container.removeChild(heart));
  }

  setInterval(() => {
    if (document.querySelectorAll('.falling-text').length < maxTexts) createFallingText();
    if (document.querySelectorAll('.heart').length < maxHearts) createHeart();
  }, 100);

  // Xoay theo chuột hoặc cảm ứng (lướt tay)
  let rotateX = 0, rotateY = 0;
  let lastX = 0, lastY = 0;
  let dragging = false;

  function updateRotation(dx, dy) {
    rotateY += dx * 0.2;
    rotateX -= dy * 0.2;
    rotateX = Math.max(-60, Math.min(60, rotateX));
    container.style.transform = `rotateX(${rotateX}deg) rotateY(${rotateY}deg)`;
  }

  // PC: mouse
  document.addEventListener('mousedown', e => {
    dragging = true;
    lastX = e.clientX;
    lastY = e.clientY;
  });

  document.addEventListener('mouseup', () => dragging = false);
  document.addEventListener('mousemove', e => {
    if (!dragging) return;
    const dx = e.clientX - lastX;
    const dy = e.clientY - lastY;
    updateRotation(dx, dy);
    lastX = e.clientX;
    lastY = e.clientY;
  });

  // Mobile: touch
  document.addEventListener('touchstart', e => {
    dragging = true;
    lastX = e.touches[0].clientX;
    lastY = e.touches[0].clientY;
  });

  document.addEventListener('touchend', () => dragging = false);
  document.addEventListener('touchmove', e => {
    if (!dragging) return;
    const dx = e.touches[0].clientX - lastX;
    const dy = e.touches[0].clientY - lastY;
    updateRotation(dx, dy);
    lastX = e.touches[0].clientX;
    lastY = e.touches[0].clientY;
  });
</script>

</body>
</html>

